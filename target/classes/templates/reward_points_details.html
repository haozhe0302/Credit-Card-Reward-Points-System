<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"/>

    <title>Details - Reward Points System</title>

    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" />

    <script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}" ></script>
    <script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}" ></script>
</head>
<body>
<div class="container-fluid text-center">
    <br>
    <div class="border border-secondary rounded p-3 bg-light" style="width: 75%; max-width: 1600px; min-width: 625px; margin: 0 auto">
        <h2 class="text-primary"><b>Your Monthly Reward Points Details</b></h2>
        <!-- Display Reward Info -->
        <div  style="width: 80%; min-width: 500px; margin: 0 auto">
            <p>Month: [[${reward.month}]]</p>
            <h3 class="text-danger">Total Reward Points: <b>[[${totalPoints}]]</b></h3><br>
            <h5 class="text-primary">Reward Contribution</h5>
            <p>Sports Check: [[${sportsPoints}]] &nbsp;&nbsp;&nbsp;&nbsp; Tim Hortons: [[${timPoints}]] &nbsp;&nbsp;&nbsp;&nbsp; Subway: [[${subwayPoints}]]</p>

            <h5 class="text-primary">Promotion Applied</h5>
            <table class="table table-striped table-hover table-responsive-xl">
                <thead class="table-primary">
                    <tr>
                        <th>Rule</th>
                        <th>Description</th>
                        <th>No. Applied</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:if="${reward.rule1Num > 0}">
                        <td>1</td>
                        <td>500 points for every $75 spend at Sport Check, $25 spend at Tim Hortons and $25 spend at Subway</td>
                        <td><b>[[${reward.rule1Num}]]</b></td>
                    </tr>
                    <tr th:if="${reward.rule2Num > 0}">
                        <td>2</td>
                        <td>300 points for every $75 spend at Sport Check and $25 spend at Tim Hortons</td>
                        <td><b>[[${reward.rule2Num}]]</b></td>
                    </tr>
                    <tr th:if="${reward.rule4Num > 0}">
                        <td>4</td>
                        <td>150 points for every $25 spend at Sport Check, $10 spend at Tim Hortons and $10 spend at Subway</td>
                        <td><b>[[${reward.rule4Num}]]</b></td>
                    </tr>
                    <tr th:if="${reward.rule6Num > 0}">
                        <td>6</td>
                        <td>75 point for every $20 spend at Sport Check</td>
                        <td><b>[[${reward.rule6Num}]]</b></td>
                    </tr>
                    <tr th:if="${reward.rule7Num > 0}">
                        <td>7</td>
                        <td>1 points for every $1 spend for all other purchases (including leftover amount)</td>
                        <td><b>[[${reward.rule7Num}]]</b></td>
                    </tr>
                </tbody>
            </table>
            <br>

            <!-- Display Transaction Info -->
            <h5 class="text-primary">Transaction Details</h5>
            <table class="table table-striped table-hover table-responsive-xl">
                <thead class="table-primary">
                    <tr>
                        <th>Transaction ID</th>
                        <th>Date</th>
                        <th>Merchant Code</th>
                        <th>Amount Cents</th>
                        <th>Reward Points</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="transaction : ${transactionHistory}">
                        <td th:text="${transaction.transactionId}"></td>
                        <td th:text="${transaction.date}"></td>
                        <td th:text="${transaction.merchantCode}"></td>
                        <td th:text="${transaction.amountCents}"></td>
                        <td th:text="${transaction.rewardPoints}" style="font-weight:bold"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Cute Poka Bird. just for fun.  -->
    <div class="poka" style="position: fixed; left: 0; bottom: 0; z-index: 2;">
        <a class="poka"><img src="https://cdn.hinatazaka46.com/files/14/hinata/pages/hinachri2020/assets/images/poka.gif" height="120" width="120"></a>
    </div>
</div>
</body>
</html>